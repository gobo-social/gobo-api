shards:
  timestamp: &timestamp
    created:
      description: The ISO 8601 timestamp this resource was created.
      type: string
    updated:
      description: The ISO 8601 timestamp this resource was updated.
      type: string


  person: &person
    type: object
    additionalProperties: false
    required:
      - id
    properties:
      id:
        description: Unique ID for this person 
        type: number
      name:
        description: Chosen display name for this person.
        type: string
      <<: *timestamp
      

resources:
  discovery:
    template: /
    route: /
    methods:
      get:
        request: {}
        response:
          type: application/json
          status: 200


  people:
    template: /people
    route: /people
    methods:
      post:
        request:
          type: application/json
          schema:
            type: object
            additionalProperties: false
            properties:
              name:
                description: Chosen display name for this person.
                type: string
        response:
          type: application/json
          schema: *person
          status: 201

      get:
        request: {}
        response:
          type: application/json
          status: 200
          schema:
            type: object
            properties:
              list:
                type: array
                items: *person
              next:
                type: number
              previous:
                type: number


  person:
    template: /people/{id}
    route: /people/<int:id>
    methods:
      get:
        request: {}
        response:
          type: application/json
          status: 200
          schema: *person

      put:
        request:
          type: application/json
          schema: *person
        response:
          type: application/json
          status: 200
          schema: *person

      delete:
        request: {}
        response:
          status: 204